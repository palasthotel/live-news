parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"nMub":[function(require,module,exports) {
"use strict";function t(t,n){return!n||"object"!==f(n)&&"function"!=typeof n?e(t):n}function e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){p(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdminApi=exports.adminApi=exports.PublicApi=exports.publicApi=void 0;var l=encodeURIComponent,h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.unix_timestamp,n=void 0===e?null:e,r=t.tags,o=void 0===r?null:r,i=t.output,c=void 0===i?"json":i,u={};if(null!==n&&(u.unix_timestamp=parseInt(n)),null!==o){if(f(o)!==f([]))throw new Error("Tags need to be an array of strings");u.tags=o.map(l)}return"html"!==c&&(c="json"),u.output=c,u},m=function(t){return Object.keys(t).map(function(e){var n=t[e];return f(n)===f([])?n.map(function(t){return"".concat(e,"[]=").concat(t)}).join("&"):e+"="+t[e]}).join("&")},y=function(t){return m(h(t))},d=function(t){var e=t.routes,n=t.last_request_timestamp,r=function(t){return t.json().then(function(t){return n=t.request_timestamp,t.particles})};return{fetchParticles:function(t){return fetch(e.getParticles+"?"+y(t),{method:"GET"}).then(r).catch(console.error)},fetchParticlesUpdate:function(t){var o=s({unix_timestamp:n},t);return fetch(e.getParticles+"?"+y(o)).then(r).catch(console.error)},resetLastRequestTimestamp:function(){n=0}}};exports.publicApi=d;var b=function(){function t(e){i(this,t),this.api=d(e),this.fetchParticles=this.api.fetchParticles,this.fetchParticlesUpdate=this.api.fetchParticlesUpdate,this.resetLastRequestTimestamp=this.api.resetLastRequestTimestamp}return u(t,[{key:"fetchParticles",value:function(t){return this.api.fetchParticles(t)}},{key:"fetchParticlesUpdate",value:function(t){return this.api.fetchParticlesUpdate(t)}},{key:"resetLastRequestTimestamp",value:function(){this.api.resetLastRequestTimestamp()}}]),t}();exports.PublicApi=b;var P=function(t){var e=t.routes,n=t.wp_rest_nonce,r=d(t),o=function(t,e,r){return fetch(t,{method:r,headers:{"Content-Type":"application/json","X-WP-Nonce":n},credentials:"include",body:JSON.stringify(e)}).then(function(t){return t.json()}).then(i).catch(console.error)},i=function(t){return n=t.wp_rest_nonce,t},c={};return s({},r,{updateParticle:function(t){return(n=e.updateParticle,r=t,o(n,r,"POST")).then(function(t){return t.particle});var n,r},deleteParticle:function(t){return n=e.deleteParticle,o(n,{particle_id:t},"DELETE");var n},fetchAttachment:function(t){return f(c[t])===f({})?new Promise(function(e){e(c[t])}):fetch("/wp-json/wp/v2/media/".concat(t)).then(function(t){return t.json()}).then(function(t){return c[t.id]=t,t}).catch(function(){c[t]={error:!0}})},uploadAttachment:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(o,c){var u=new FormData(t);r&&r(),$.ajax({url:e.upload,method:"POST",cache:!1,contentType:!1,processData:!1,headers:{"X-WP-Nonce":n},data:u,success:function(t){o(i(t))}})})}})};exports.adminApi=P;var v=function(e){function o(e){var r;return i(this,o),(r=t(this,n(o).call(this,e))).adminApi=P(e),r}return r(o,b),u(o,[{key:"updateParticle",value:function(t){return this.adminApi.updateParticle(t)}}]),o}();exports.AdminApi=v;
},{}],"1TIV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.contentTypeViewProvider=void 0;var e=function(){var e=[];return{add:function(n,t){return e.find(function(e){return e.slug===n})?(console.error("content type already exists ".concat(n)),!1):(e.push({type:n,cls:t}),!0)},get:function(n){var t=e.find(function(e){return e.type===n});return t?new t.cls($):(console.log("cannot find content view of type ".concat(n)),!1)}}};exports.contentTypeViewProvider=e;
},{}],"eyol":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.particlePreview=void 0;var e=function(e,a,n,t){e.id;var i=e.created_timestamp,s=e.author,d=e.author_id,c=e.tags,l=new Date(1e3*parseInt(i)),r=$('<div class="live-news-particle__header">\n\n        <div class="live-news-particle__meta">\n                <span class="live-news-particle__date">'.concat(l.toLocaleDateString()," ").concat(l.toLocaleTimeString(),'</span>\n                <span class="live-news-particle__tags">').concat(c.join(", "),'</span>\n        </div>\n\n        <div class="live-news-particle__author">\n            <div class="live-news-particle__name">').concat(s||d,"</div>\n        </div>\n\n    </div>")),o=$("<div/>").addClass("live-news-particle__content");o.append(e.contentViews.map(function(e){return e.preview$()}));var v=$('<nav class="live-news-particle__options">\n            <ul>\n                <li>\n                    <a data-action="edit" href="#">Bearbeiten</a>\n                </li>\n                <li>\n                    <a data-action="delete" href="#">Löschen</a>\n                </li>\n            </ul>\n       </nav>');v.on("click","[data-action=delete]",function(a){a.preventDefault(),f(!0),t(e)}),v.on("click","[data-action=edit]",function(t){t.preventDefault();var i=u.hasClass("is-editing");i?n(e):(p(),a(e)),g(!i)});var p=function(){for(var a in e.contentViews)e.contentViews.hasOwnProperty(a)&&e.contentViews[a].setValue(e.contents[a].content)};p();var u=$("<div></div>").addClass("live-news-particle");u.append(r),u.append(o),u.append(v);var _=$("<div></div>").addClass("live-news-particle__loading").appendTo(u),w=$("<span></span>").addClass("spinner").appendTo(_),f=function(e){e?(u.addClass("is-loading"),w.addClass("is-active")):(u.removeClass("is-loading"),w.removeClass("is-active"))},g=function(e){e?(u.addClass("is-editing"),v.find("[data-action=edit]").text("Abbrechen")):(u.removeClass("is-editing"),v.find("[data-action=edit]").text("Bearbeiten"))};return{get$:function(){return u},particle:e,setLoading:f,setEditing:g}};exports.particlePreview=e;
},{}],"6kal":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.particleStreamPreview=void 0;var e=require("./particle"),t=function(t,r,n,i,u){var a=[],o=t("<div></div>").addClass("live-news__stream"),l=function(e){return a.findIndex(function(t){return t.particle.id===e})},c=function(e){return a.find(function(t){return t.particle.id===e})},f=function(t){return t.contentViews=t.contents.map(function(e){var t=e.type,n=e.content,i=r.get(t);return i?(i.setValue(n),i):null}).filter(function(e){return null!==e}),(0,e.particlePreview)(t,n,i,u)},d=function(e){var t=c(e);t&&(a=a.filter(function(t){return t.particle.id!==e}),t.get$().slideUp(330,function(){t.get$().remove()}))};return{get$:function(){return o},setEditing:function(e,t){var r=c(e);!function(){var e=!0,t=!1,r=void 0;try{for(var n,i=a[Symbol.iterator]();!(e=(n=i.next()).done);e=!0)n.value.setEditing(!1)}catch(u){t=!0,r=u}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}(),r&&r.setEditing(t)},setLoading:function(e,t){var r=c(e);r&&r.setLoading(t)},update:function(e){var t=!0,r=!1,n=void 0;try{for(var i,u=e.reverse()[Symbol.iterator]();!(t=(i=u.next()).done);t=!0){var v=i.value,s=l(v.id);if(!0!==v.is_deleted)if(s>=0){var p=c(v.id),g=s,y=f(v);p.get$().after(y.get$()),p.get$().remove(),a[g]=y}else{var m=f(v);a.push(m),o.prepend(m.get$())}else s&&d(v.id)}}catch(w){r=!0,n=w}finally{try{t||null==u.return||u.return()}finally{if(r)throw n}}}}};exports.particleStreamPreview=t;
},{"./particle":"eyol"}],"h3f2":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.particleEditor=void 0;var e=function(e,n,i,a,r,s){var o=null,d=null,l=[],u=e("<div></div>").addClass("live-news-editor"),c=e("<div></div>").addClass("live-news-input");u.append(c);var p=e("<div></div>").addClass("live-news__items");c.append(p);var v=e("<div><h4>Eigenschaften wählen</h4></div>").addClass("live-news-input__tags").appendTo(c),f=e("<div></div>").addClass("live-news-input__tags--list").appendTo(v),b=function(t){return e("<label><input type='checkbox' value=\"".concat(t,'" />  ').concat(t,"</label>")).addClass("live-news-input__tags--tag")};!function(t){f.empty().append(t.map(b))}(n);var y=e("<button>Nachricht speichern</button>").attr("type","submit").addClass("live-news-input__submit").on("click",function(t){t.preventDefault(),a()}).appendTo(c),h=e("<button>Zurücksetzten</button>").attr("type","submit").addClass("live-news-input__reset").on("click",function(t){t.preventDefault(),r(),A()}).appendTo(c),m=e("<button>Abbrechen</button>").attr("type","submit").addClass("live-news-input__cancel").on("click",function(t){t.preventDefault(),s()}).hide().appendTo(c),g=e("<span class='spinner'></span>").insertAfter(y),C=function(e){if(t(e)===t("")){var n=i.get(e);if(!n)return;p.append(n.editor$()),l.push(n)}else p.append(e.editor$()),l.push(e)},_=function(t){S();var e=!0,n=!1,i=void 0;try{for(var a,r=t[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var s=a.value;C(s)}}catch(o){n=!0,i=o}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}},w=function(){return v.find("[type=checkbox]")},k=function(t){w().map(function(n,i){t.includes(i.value)?e(i).prop("checked",!0):e(i).prop("checked",!1)})},A=function(){o=null,d=null;for(var t=0,e=l;t<e.length;t++){e[t].setValue("")}v.find("input").prop("checked",!1),m.hide(),h.show()},S=function(){p.empty(),l=[]};return{get$:function(){return u},addContent:C,setParticle:function(t){var e=t.id,n=t.author_id,i=t.tags,a=t.contentViews;o=e,d=n,k(i),_(a),m.show(),h.hide()},getId:function(){return o},getAuthorId:function(){return d},getContents:function(){return l.map(function(t){return{type:t.slug,content:t.getValue()}})},setContents:_,getTags:function(){return w().map(function(t,n){return!!e(n).prop("checked")&&n.value}).toArray().filter(function(t){return!1!==t})},setTags:k,reset:A,clearContentViews:S,setIsSaving:function(t){t?(c.addClass("is-saving"),y.attr("disabled","disabled"),h.attr("disabled","disabled"),m.attr("disabled","disabled"),g.addClass("is-active"),w().attr("disabled","disabled")):(c.removeClass("is-saving"),g.removeClass("is-active"),y.removeAttr("disabled"),h.removeAttr("disabled"),m.removeAttr("disabled"),w().removeAttr("disabled"));for(var e=0,n=l;e<n.length;e++)n[e].setDisabled(t)}}};exports.particleEditor=e;
},{}],"Qjs6":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.triggerRemoveParticle=exports.onRemoveParticle=exports.triggerUpdateParticle=exports.onUpdateParticle=exports.triggerAddParticle=exports.onAddParticle=exports.trigger=exports.listen=void 0;var t={},r=function(r,o){return"undefined"===e(t[r])&&(t[r]=[]),t[r].push(o),function(){t[r]=t[r].filter(function(e){return e!==o})}};exports.listen=r;var o=function(r,o){e(t[r])===e([])&&t[r].forEach(function(e){e(o)})};exports.trigger=o;var i=function(e){return r("particleAdd",e)};exports.onAddParticle=i;var n=function(e){return o("particleAdd",e)};exports.triggerAddParticle=n;var a=function(e){return r("particleUpdate",e)};exports.onUpdateParticle=a;var c=function(e){return o("particleUpdate",e)};exports.triggerUpdateParticle=c;var p=function(e){return r("particleRemove",e)};exports.onRemoveParticle=p;var l=function(e){return o("particleRemove",e)};exports.triggerRemoveParticle=l;var u={listen:r,trigger:o,onAddParticle:i,triggerAddParticle:n,onUpdateParticle:a,triggerUpdateParticle:c,onRemoveParticle:p,triggerRemoveParticle:l};exports.default=u;
},{}],"U3L2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.application=void 0;var e=require("./utils/content-type-view-provider"),t=require("./view/particle-stream-preview"),i=require("./view/particle-editor"),r=n(require("./utils/events"));function n(e){return e&&e.__esModule?e:{default:e}}var a=function(n,a,o){var d=!1,p=!1;console.log("JQuery?",o);var c={},s=(0,e.contentTypeViewProvider)();c.$root=o("#".concat(n.dom.rootId)),c.$root.empty();var u=(0,i.particleEditor)(o,n.tags,s,function(){if(!d){d=!0,u.setIsSaving(!0);var e=u.getContents(),t={particle_contents:e.map(function(e){return e.content}),particle_content_types:e.map(function(e){return e.type}),tags:u.getTags()};u.getId()&&(t.particle_id=u.getId()),u.getAuthorId()&&(t.author_id=u.getAuthorId()),a.updateParticle(t).then(function(){t.particle_id>0?(v.setEditing(t.particle_id,!1),v.setLoading(t.particle_id,!0)):l(!0),u.setIsSaving(!1),u.reset(),d=!1,f()})}},function(){},function(){v.setEditing(u.getId(),!1),u.reset()});c.$root.append(u.get$());c.$preview=o("<div></div>").addClass("live-news__preview").appendTo(c.$root),c.$previewHeader=o("<div></div>").addClass("live-news__preview--header").appendTo(c.$preview),c.$previewLoadingIndicator=o("<span class='spinner'></span>").appendTo(c.$previewHeader);var v=(0,t.particleStreamPreview)(o,s,function(e){v.setEditing(e.id,!0),u.setParticle(e)},function(e){u.reset()},function(e){a.deleteParticle(e.id).then(function(t){t.deleted&&v.removeParticleById(e.id)})});c.$preview.append(v.get$());var l=function(e){e?c.$previewLoadingIndicator.addClass("is-active"):c.$previewLoadingIndicator.removeClass("is-active")},g=null,f=function e(){p||(clearTimeout(g),p=!0,a.fetchParticlesUpdate().then(function(t){g=setTimeout(e,5e3),p=!1,l(!1),v.update(t)}))};return l(!0),f(),{dom:c,contentTypeProvider:s,editor:u,events:r.default,init:function(){u.setContents(["title","html","upload"])}}};exports.application=a;
},{"./utils/content-type-view-provider":"1TIV","./view/particle-stream-preview":"6kal","./view/particle-editor":"h3f2","./utils/events":"Qjs6"}],"lA+o":[function(require,module,exports) {
jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target",width:"Width"}},plugins:{},svgPath:null,hideButtonTexts:null},Object.defineProperty(jQuery.trumbowyg,"defaultOptions",{value:{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,autogrowOnEnter:!1,imageWidthModalEdit:!1,prefix:"trumbowyg-",semantic:!0,semanticKeepAttributes:!1,resetCss:!1,removeformatPasted:!1,tabToIndent:!1,tagsToRemove:[],tagsToKeep:["hr","img","embed","iframe","input"],btns:[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},changeActiveDropdownIcon:!1,inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],plugins:{},urlProtocol:!1,minimalLinks:!1},writable:!1,enumerable:!0,configurable:!1}),function(e,t,n,a){"use strict";a.fn.trumbowyg=function(e,t){if(e===Object(e)||!e)return this.each(function(){a(this).data("trumbowyg")||a(this).data("trumbowyg",new o(this,e))});if(1===this.length)try{var n=a(this).data("trumbowyg");switch(e){case"execCmd":return n.execCmd(t.cmd,t.param,t.forceCss,t.skipTrumbowyg);case"openModal":return n.openModal(t.title,t.content);case"closeModal":return n.closeModal();case"openModalInsert":return n.openModalInsert(t.title,t.fields,t.callback);case"saveRange":return n.saveRange();case"getRange":return n.range;case"getRangeText":return n.getRangeText();case"restoreRange":return n.restoreRange();case"enable":return n.setDisabled(!1);case"disable":return n.setDisabled(!0);case"toggle":return n.toggle();case"destroy":return n.destroy();case"empty":return n.empty();case"html":return n.html(t)}}catch(r){}return!1};var o=function(o,r){var i=this,s=a.trumbowyg;i.doc=o.ownerDocument||n,i.$ta=a(o),i.$c=a(o),null!=(r=r||{}).lang||null!=s.langs[r.lang]?i.lang=a.extend(!0,{},s.langs.en,s.langs[r.lang]):i.lang=s.langs.en,i.hideButtonTexts=null!=s.hideButtonTexts?s.hideButtonTexts:r.hideButtonTexts;var l=null!=s.svgPath?s.svgPath:r.svgPath;if(i.hasSvg=!1!==l,i.svgPath=i.doc.querySelector("base")?t.location.href.split("#")[0]:"",0===a("#trumbowyg-icons",i.doc).length&&!1!==l){if(null==l){for(var d=n.getElementsByTagName("script"),c=0;c<d.length;c+=1){var u=d[c].src,g=u.match("trumbowyg(.min)?.js");null!=g&&(l=u.substring(0,u.indexOf(g[0]))+"ui/icons.svg")}null==l&&console.warn("You must define svgPath: https://goo.gl/CfTY9U")}var f=i.doc.createElement("div");f.id="trumbowyg-icons",i.doc.body.insertBefore(f,i.doc.body.childNodes[0]),a.ajax({async:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",crossDomain:!0,url:l,data:null,beforeSend:null,complete:null,success:function(e){f.innerHTML=(new XMLSerializer).serializeToString(e.documentElement)}})}var h=i.lang.header,p=function(){return(t.chrome||t.Intl&&Intl.v8BreakIterator)&&"CSS"in t};i.btnsDef={viewHTML:{fn:"toggle",class:"trumbowyg-not-disable"},undo:{isSupported:p,key:"Z"},redo:{isSupported:p,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:h+" 1"},h2:{fn:"formatBlock",title:h+" 2"},h3:{fn:"formatBlock",title:h+" 3"},h4:{fn:"formatBlock",title:h+" 4"},h5:{fn:"formatBlock",title:h+" 5"},h6:{fn:"formatBlock",title:h+" 6"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},i.o=a.extend(!0,{},s.defaultOptions,r),i.o.hasOwnProperty("imgDblClickHandler")||(i.o.imgDblClickHandler=i.getDefaultImgDblClickHandler()),i.urlPrefix=i.setupUrlPrefix(),i.disabled=i.o.disabled||"TEXTAREA"===o.nodeName&&o.disabled,r.btns?i.o.btns=r.btns:i.o.semantic||(i.o.btns[3]=["bold","italic","underline","strikethrough"]),a.each(i.o.btnsDef,function(e,t){i.addBtnDef(e,t)}),i.eventNamespace="trumbowyg-event",i.keys=[],i.tagToButton={},i.tagHandlers=[],i.pasteHandlers=[].concat(i.o.pasteHandlers),i.isIE=-1!==e.userAgent.indexOf("MSIE")||-1!==e.appVersion.indexOf("Trident/"),i.isMac=-1!==e.platform.toUpperCase().indexOf("MAC"),i.init()};o.prototype={DEFAULT_SEMANTIC_MAP:{b:"strong",i:"em",s:"del",strike:"del",div:"p"},init:function(){var e=this;e.height=e.$ta.height(),e.initPlugins();try{e.doc.execCommand("enableObjectResizing",!1,!1),e.doc.execCommand("defaultParagraphSeparator",!1,"p")}catch(t){}e.buildEditor(),e.buildBtnPane(),e.fixedBtnPaneEvents(),e.buildOverlay(),setTimeout(function(){e.disabled&&e.setDisabled(!0),e.$c.trigger("tbwinit")})},addBtnDef:function(e,t){this.btnsDef[e]=a.extend(t,this.btnsDef[e]||{})},setupUrlPrefix:function(){var e=this.o.urlProtocol;if(e)return"string"!=typeof e?"https://":e.replace("://","")+"://"},buildEditor:function(){var e=this,n=e.o.prefix,o="";e.$box=a("<div/>",{class:n+"box "+n+"editor-visible "+n+e.o.lang+" trumbowyg"}),e.isTextarea=e.$ta.is("textarea"),e.isTextarea?(o=e.$ta.val(),e.$ed=a("<div/>"),e.$box.insertAfter(e.$ta).append(e.$ed,e.$ta)):(e.$ed=e.$ta,o=e.$ed.html(),e.$ta=a("<textarea/>",{name:e.$ta.attr("id"),height:e.height}).val(o),e.$box.insertAfter(e.$ed).append(e.$ta,e.$ed),e.syncCode()),e.$ta.addClass(n+"textarea").attr("tabindex",-1),e.$ed.addClass(n+"editor").attr({contenteditable:!0,dir:e.lang._dir||"ltr"}).html(o),e.o.tabindex&&e.$ed.attr("tabindex",e.o.tabindex),e.$c.is("[placeholder]")&&e.$ed.attr("placeholder",e.$c.attr("placeholder")),e.$c.is("[spellcheck]")&&e.$ed.attr("spellcheck",e.$c.attr("spellcheck")),e.o.resetCss&&e.$ed.addClass(n+"reset-css"),e.o.autogrow||e.$ta.add(e.$ed).css({height:e.height}),e.semanticCode(),e.o.autogrowOnEnter&&e.$ed.addClass(n+"autogrow-on-enter");var r,i=!1,s=!1;e.$ed.on("dblclick","img",e.o.imgDblClickHandler).on("keydown",function(t){if(!t.ctrlKey&&!t.metaKey||t.altKey){if(e.o.tabToIndent&&"Tab"===t.key)try{return t.shiftKey?e.execCmd("outdent",!0,null):e.execCmd("indent",!0,null),!1}catch(a){}}else{i=!0;var n=e.keys[String.fromCharCode(t.which).toUpperCase()];try{return e.execCmd(n.fn,n.param),!1}catch(a){}}}).on("compositionstart compositionupdate",function(){s=!0}).on("keyup compositionend",function(t){if("compositionend"===t.type)s=!1;else if(s)return;var n=t.which;if(!(n>=37&&n<=40)){if(!t.ctrlKey&&!t.metaKey||89!==n&&90!==n)if(i||17===n)void 0===t.which&&e.semanticCode(!1,!1,!0);else{var a=!e.isIE||"compositionend"===t.type;e.semanticCode(!1,a&&13===n),e.$c.trigger("tbwchange")}else e.semanticCode(!1,!0),e.$c.trigger("tbwchange");setTimeout(function(){i=!1},50)}}).on("mouseup keydown keyup",function(t){(!t.ctrlKey&&!t.metaKey||t.altKey)&&setTimeout(function(){i=!1},50),clearTimeout(r),r=setTimeout(function(){e.updateButtonPaneStatus()},50)}).on("focus blur",function(t){if(e.$c.trigger("tbw"+t.type),"blur"===t.type&&e.clearButtonPaneStatus(),e.o.autogrowOnEnter){if(e.autogrowOnEnterDontClose)return;"focus"===t.type?(e.autogrowOnEnterWasFocused=!0,e.autogrowEditorOnEnter()):e.o.autogrow||(e.$ed.css({height:e.$ed.css("min-height")}),e.$c.trigger("tbwresize"))}}).on("cut drop",function(){setTimeout(function(){e.semanticCode(!1,!0),e.$c.trigger("tbwchange")},0)}).on("paste",function(n){if(e.o.removeformatPasted){n.preventDefault(),t.getSelection&&t.getSelection().deleteFromDocument&&t.getSelection().deleteFromDocument();try{var o=t.clipboardData.getData("Text");try{e.doc.selection.createRange().pasteHTML(o)}catch(r){e.doc.getSelection().getRangeAt(0).insertNode(e.doc.createTextNode(o))}e.$c.trigger("tbwchange",n)}catch(i){e.execCmd("insertText",(n.originalEvent||n).clipboardData.getData("text/plain"))}}a.each(e.pasteHandlers,function(e,t){t(n)}),setTimeout(function(){e.semanticCode(!1,!0),e.$c.trigger("tbwpaste",n),e.$c.trigger("tbwchange")},0)}),e.$ta.on("keyup",function(){e.$c.trigger("tbwchange")}).on("paste",function(){setTimeout(function(){e.$c.trigger("tbwchange")},0)}),a(e.doc.body).on("keydown",function(t){if(27===t.which&&a("."+n+"modal-box").length>=1)return e.closeModal(),!1})},autogrowEditorOnEnter:function(){var e=this;e.$ed.removeClass("autogrow-on-enter");var t=e.$ed[0].clientHeight;e.$ed.height("auto");var n=e.$ed[0].scrollHeight;e.$ed.addClass("autogrow-on-enter"),t!==n&&(e.$ed.height(t),setTimeout(function(){e.$ed.css({height:n}),e.$c.trigger("tbwresize")},0))},buildBtnPane:function(){var e=this,t=e.o.prefix,n=e.$btnPane=a("<div/>",{class:t+"button-pane"});a.each(e.o.btns,function(o,r){a.isArray(r)||(r=[r]);var i=a("<div/>",{class:t+"button-group "+(r.indexOf("fullscreen")>=0?t+"right":"")});a.each(r,function(t,n){try{e.isSupportedBtn(n)&&i.append(e.buildBtn(n))}catch(a){}}),i.html().trim().length>0&&n.append(i)}),e.$box.prepend(n)},buildBtn:function(e){var t=this,n=t.o.prefix,o=t.btnsDef[e],r=o.dropdown,i=null==o.hasIcon||o.hasIcon,s=t.lang[e]||e,l=a("<button/>",{type:"button",class:n+e+"-button "+(o.class||"")+(i?"":" "+n+"textual-button"),html:t.hasSvg&&i?'<svg><use xlink:href="'+t.svgPath+"#"+n+(o.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':t.hideButtonTexts?"":o.text||o.title||t.lang[e]||e,title:(o.title||o.text||s)+(o.key?" ("+(t.isMac?"Cmd":"Ctrl")+" + "+o.key+")":""),tabindex:-1,mousedown:function(){return r&&!a("."+e+"-"+n+"dropdown",t.$box).is(":hidden")||a("body",t.doc).trigger("mousedown"),!((t.$btnPane.hasClass(n+"disable")||t.$box.hasClass(n+"disabled"))&&!a(this).hasClass(n+"active")&&!a(this).hasClass(n+"not-disable"))&&(t.execCmd((!r?o.fn:"dropdown")||e,o.param||e,o.forceCss),!1)}});if(r){l.addClass(n+"open-dropdown");var d=n+"dropdown",c={class:d+"-"+e+" "+d+" "+n+"fixed-top "+(o.dropdownClass||"")};c["data-"+d]=e;var u=a("<div/>",c);a.each(r,function(e,n){t.btnsDef[n]&&t.isSupportedBtn(n)&&u.append(t.buildSubBtn(n))}),t.$box.append(u.hide())}else o.key&&(t.keys[o.key]={fn:o.fn||e,param:o.param||e});return r||(t.tagToButton[(o.tag||e).toLowerCase()]=e),l},buildSubBtn:function(e){var t=this,n=t.o.prefix,o=t.btnsDef[e],r=null==o.hasIcon||o.hasIcon;return o.key&&(t.keys[o.key]={fn:o.fn||e,param:o.param||e}),t.tagToButton[(o.tag||e).toLowerCase()]=e,a("<button/>",{type:"button",class:n+e+"-dropdown-button "+(o.class||"")+(o.ico?" "+n+o.ico+"-button":""),html:t.hasSvg&&r?'<svg><use xlink:href="'+t.svgPath+"#"+n+(o.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(o.text||o.title||t.lang[e]||e):o.text||o.title||t.lang[e]||e,title:o.key?"("+(t.isMac?"Cmd":"Ctrl")+" + "+o.key+")":null,style:o.style||null,mousedown:function(){return a("body",t.doc).trigger("mousedown"),t.execCmd(o.fn||e,o.param||e,o.forceCss),!1}})},isSupportedBtn:function(e){try{return this.btnsDef[e].isSupported()}catch(t){}return!0},buildOverlay:function(){var e=this;return e.$overlay=a("<div/>",{class:e.o.prefix+"overlay"}).appendTo(e.$box),e.$overlay},showOverlay:function(){var e=this;a(t).trigger("scroll"),e.$overlay.fadeIn(200),e.$box.addClass(e.o.prefix+"box-blur")},hideOverlay:function(){var e=this;e.$overlay.fadeOut(50),e.$box.removeClass(e.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var e=this,n=e.o.fixedFullWidth,o=e.$box;e.o.fixedBtnPane&&(e.isFixed=!1,a(t).on("scroll."+e.eventNamespace+" resize."+e.eventNamespace,function(){if(o){e.syncCode();var r=a(t).scrollTop(),i=o.offset().top+1,s=e.$btnPane,l=s.outerHeight()-2;r-i>0&&r-i-e.height<0?(e.isFixed||(e.isFixed=!0,s.css({position:"fixed",top:0,left:n?0:"auto",zIndex:7}),e.$box.css({paddingTop:s.height()})),s.css({width:n?"100%":o.width()-1}),a("."+e.o.prefix+"fixed-top",o).css({position:n?"fixed":"absolute",top:n?l:l+(r-i),zIndex:15})):e.isFixed&&(e.isFixed=!1,s.removeAttr("style"),e.$box.css({paddingTop:0}),a("."+e.o.prefix+"fixed-top",o).css({position:"absolute",top:l}))}}))},setDisabled:function(e){var t=this,n=t.o.prefix;t.disabled=e,e?t.$ta.attr("disabled",!0):t.$ta.removeAttr("disabled"),t.$box.toggleClass(n+"disabled",e),t.$ed.attr("contenteditable",!e)},destroy:function(){var e=this,n=e.o.prefix;e.isTextarea?e.$box.after(e.$ta.css({height:""}).val(e.html()).removeClass(n+"textarea").show()):e.$box.after(e.$ed.css({height:""}).removeClass(n+"editor").removeAttr("contenteditable").removeAttr("dir").html(e.html()).show()),e.$ed.off("dblclick","img"),e.destroyPlugins(),e.$box.remove(),e.$c.removeData("trumbowyg"),a("body").removeClass(n+"body-fullscreen"),e.$c.trigger("tbwclose"),a(t).off("scroll."+e.eventNamespace+" resize."+e.eventNamespace)},empty:function(){this.$ta.val(""),this.syncCode(!0)},toggle:function(){var e=this,t=e.o.prefix;e.o.autogrowOnEnter&&(e.autogrowOnEnterDontClose=!e.$box.hasClass(t+"editor-hidden")),e.semanticCode(!1,!0),e.$c.trigger("tbwchange"),setTimeout(function(){e.doc.activeElement.blur(),e.$box.toggleClass(t+"editor-hidden "+t+"editor-visible"),e.$btnPane.toggleClass(t+"disable"),a("."+t+"viewHTML-button",e.$btnPane).toggleClass(t+"active"),e.$box.hasClass(t+"editor-visible")?e.$ta.attr("tabindex",-1):e.$ta.removeAttr("tabindex"),e.o.autogrowOnEnter&&!e.autogrowOnEnterDontClose&&e.autogrowEditorOnEnter()},0)},dropdown:function(e){var n=this,o=a("body",n.doc),r=n.o.prefix,i=a("[data-"+r+"dropdown="+e+"]",n.$box),s=a("."+r+e+"-button",n.$btnPane),l=i.is(":hidden");if(o.trigger("mousedown"),l){var d=s.offset().left;s.addClass(r+"active"),i.css({position:"absolute",top:s.offset().top-n.$btnPane.offset().top+s.outerHeight(),left:n.o.fixedFullWidth&&n.isFixed?d:d-n.$btnPane.offset().left}).show(),a(t).trigger("scroll"),o.on("mousedown."+n.eventNamespace,function(e){i.is(e.target)||(a("."+r+"dropdown",n.$box).hide(),a("."+r+"active",n.$btnPane).removeClass(r+"active"),o.off("mousedown."+n.eventNamespace))})}},html:function(e){var t=this;return null!=e?(t.$ta.val(e),t.syncCode(!0),t.$c.trigger("tbwchange"),t):t.$ta.val()},syncTextarea:function(){var e=this;e.$ta.val(e.$ed.text().trim().length>0||e.$ed.find(e.o.tagsToKeep.join(",")).length>0?e.$ed.html():"")},syncCode:function(e){var t=this;if(!e&&t.$ed.is(":visible"))t.syncTextarea();else{var n=a("<div>").html(t.$ta.val()),o=a("<div>").append(n);a(t.o.tagsToRemove.join(","),o).remove(),t.$ed.html(o.contents().html())}if(t.o.autogrow&&(t.height=t.$ed.height(),t.height!==t.$ta.css("height")&&(t.$ta.css({height:t.height}),t.$c.trigger("tbwresize"))),t.o.autogrowOnEnter){t.$ed.height("auto");var r=t.autogrowOnEnterWasFocused?t.$ed[0].scrollHeight:t.$ed.css("min-height");r!==t.$ta.css("height")&&(t.$ed.css({height:r}),t.$c.trigger("tbwresize"))}},semanticCode:function(e,t,n){var o=this;if(o.saveRange(),o.syncCode(e),o.o.semantic){if(o.semanticTag("b",o.o.semanticKeepAttributes),o.semanticTag("i",o.o.semanticKeepAttributes),o.semanticTag("s",o.o.semanticKeepAttributes),o.semanticTag("strike",o.o.semanticKeepAttributes),t){var r=o.o.inlineElementsSelector,i=":not("+r+")";o.$ed.contents().filter(function(){return 3===this.nodeType&&this.nodeValue.trim().length>0}).wrap("<span data-tbw/>");var s=function(e){if(0!==e.length){var t=e.nextUntil(i).addBack().wrapAll("<p/>").parent(),n=t.nextAll(r).first();t.next("br").remove(),s(n)}};s(o.$ed.children(r).first()),o.semanticTag("div",!0),a("[data-tbw]",o.$ed).contents().unwrap(),o.$ed.find("p:empty").remove()}n||o.restoreRange(),o.syncTextarea()}},semanticTag:function(e,t){var n;if(null!=this.o.semantic&&"object"==typeof this.o.semantic&&this.o.semantic.hasOwnProperty(e))n=this.o.semantic[e];else{if(!0!==this.o.semantic||!this.DEFAULT_SEMANTIC_MAP.hasOwnProperty(e))return;n=this.DEFAULT_SEMANTIC_MAP[e]}a(e,this.$ed).each(function(){var e=a(this);if(0===e.contents().length)return!1;e.wrap("<"+n+"/>"),t&&a.each(e.prop("attributes"),function(){e.parent().attr(this.name,this.value)}),e.contents().unwrap()})},createLink:function(){for(var e,t,n,o=this,r=o.doc.getSelection(),i=r.getRangeAt(0),s=r.focusNode,l=(new XMLSerializer).serializeToString(i.cloneContents())||i+"";["A","DIV"].indexOf(s.nodeName)<0;)s=s.parentNode;if(s&&"A"===s.nodeName){var d=a(s);l=d.text(),e=d.attr("href"),o.o.minimalLinks||(t=d.attr("title"),n=d.attr("target"));var c=o.doc.createRange();c.selectNode(s),r.removeAllRanges(),r.addRange(c)}o.saveRange();var u={url:{label:"URL",required:!0,value:e},text:{label:o.lang.text,value:l}};o.o.minimalLinks||a.extend(u,{title:{label:o.lang.title,value:t},target:{label:o.lang.target,value:n}}),o.openModalInsert(o.lang.createLink,u,function(e){var t=o.prependUrlPrefix(e.url);if(!t.length)return!1;var n=a(['<a href="',t,'">',e.text||e.url,"</a>"].join(""));return o.o.minimalLinks||(e.title.length>0&&n.attr("title",e.title),e.target.length>0&&n.attr("target",e.target)),o.range.deleteContents(),o.range.insertNode(n[0]),o.syncCode(),o.$c.trigger("tbwchange"),!0})},prependUrlPrefix:function(e){if(!this.urlPrefix)return e;if(/^([a-z][-+.a-z0-9]*:|\/|#)/i.test(e))return e;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"mailto:"+e:this.urlPrefix+e},unlink:function(){var e=this,t=e.doc.getSelection(),n=t.focusNode;if(t.isCollapsed){for(;["A","DIV"].indexOf(n.nodeName)<0;)n=n.parentNode;if(n&&"A"===n.nodeName){var a=e.doc.createRange();a.selectNode(n),t.removeAllRanges(),t.addRange(a)}}e.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var e=this;e.saveRange();var t={url:{label:"URL",required:!0},alt:{label:e.lang.description,value:e.getRangeText()}};e.o.imageWidthModalEdit&&(t.width={}),e.openModalInsert(e.lang.insertImage,t,function(t){e.execCmd("insertImage",t.url,!1,!0);var n=a('img[src="'+t.url+'"]:not([alt])',e.$box);return n.attr("alt",t.alt),e.o.imageWidthModalEdit&&n.attr({width:t.width}),e.syncCode(),e.$c.trigger("tbwchange"),!0})},fullscreen:function(){var e,n=this,o=n.o.prefix,r=o+"fullscreen",i=r+"-placeholder",s=n.$box.outerHeight();n.$box.toggleClass(r),(e=n.$box.hasClass(r))?n.$box.before(a("<div/>",{class:i}).css({height:s})):a("."+i).remove(),a("body").toggleClass(o+"body-fullscreen",e),a(t).trigger("scroll"),n.$c.trigger("tbw"+(e?"open":"close")+"fullscreen")},execCmd:function(e,t,n,a){var o=this;a=!!a||"","dropdown"!==e&&o.$ed.focus();try{o.doc.execCommand("styleWithCSS",!1,n||!1)}catch(r){}try{o[e+a](t)}catch(r){try{e(t)}catch(i){"insertHorizontalRule"===e?t=void 0:"formatBlock"===e&&o.isIE&&(t="<"+t+">"),o.doc.execCommand(e,!1,t),o.syncCode(),o.semanticCode(!1,!0)}"dropdown"!==e&&(o.updateButtonPaneStatus(),o.$c.trigger("tbwchange"))}},openModal:function(e,n,o){var r=this,i=r.o.prefix;if(o=!1!==o,a("."+i+"modal-box",r.$box).length>0)return!1;r.o.autogrowOnEnter&&(r.autogrowOnEnterDontClose=!0),r.saveRange(),r.showOverlay(),r.$btnPane.addClass(i+"disable");var s,l=a("<div/>",{class:i+"modal "+i+"fixed-top"}).css({top:r.$box.offset().top+r.$btnPane.height(),zIndex:99999}).appendTo(a(r.doc.body));r.$overlay.one("click",function(){return l.trigger("tbwcancel"),!1}),s=o?a("<form/>",{action:"",html:n}).on("submit",function(){return l.trigger("tbwconfirm"),!1}).on("reset",function(){return l.trigger("tbwcancel"),!1}).on("submit reset",function(){r.o.autogrowOnEnter&&(r.autogrowOnEnterDontClose=!1)}):n;var d=a("<div/>",{class:i+"modal-box",html:s}).css({top:"-"+r.$btnPane.outerHeight(),opacity:0,paddingBottom:o?null:"5%"}).appendTo(l).animate({top:0,opacity:1},100);return e&&a("<span/>",{text:e,class:i+"modal-title"}).prependTo(d),o&&(a("input:first",d).focus(),r.buildModalBtn("submit",d),r.buildModalBtn("reset",d),l.height(d.outerHeight()+10)),a(t).trigger("scroll"),l},buildModalBtn:function(e,t){var n=this.o.prefix;return a("<button/>",{class:n+"modal-button "+n+"modal-"+e,type:e,text:this.lang[e]||e}).appendTo(a("form",t))},closeModal:function(){var e=this,t=e.o.prefix;e.$btnPane.removeClass(t+"disable"),e.$overlay.off();var n=a("."+t+"modal-box",a(e.doc.body));n.animate({top:"-"+n.height()},100,function(){n.parent().remove(),e.hideOverlay()}),e.restoreRange()},openModalInsert:function(e,t,n){var o=this,r=o.o.prefix,i=o.lang,s="";return a.each(t,function(e,t){var n=t.label||e,a=t.name||e,o=t.attributes||{},l=Object.keys(o).map(function(e){return e+'="'+o[e]+'"'}).join(" ");s+='<label><input type="'+(t.type||"text")+'" name="'+a+'"'+("checkbox"===t.type&&t.value?' checked="checked"':' value="'+(t.value||"").replace(/"/g,"&quot;"))+'"'+l+'><span class="'+r+'input-infos"><span>'+(i[n]?i[n]:n)+"</span></span></label>"}),o.openModal(e,s).on("tbwconfirm",function(){var e=a("form",a(this)),r=!0,i={};a.each(t,function(t,n){var s=n.name||t,l=a('input[name="'+s+'"]',e);switch(l.attr("type").toLowerCase()){case"checkbox":i[s]=l.is(":checked");break;case"radio":i[s]=l.filter(":checked").val();break;default:i[s]=a.trim(l.val())}n.required&&""===i[s]?(r=!1,o.addErrorOnModalField(l,o.lang.required)):n.pattern&&!n.pattern.test(i[s])&&(r=!1,o.addErrorOnModalField(l,n.patternError))}),r&&(o.restoreRange(),n(i,t)&&(o.syncCode(),o.$c.trigger("tbwchange"),o.closeModal(),a(this).off("tbwconfirm")))}).one("tbwcancel",function(){a(this).off("tbwconfirm"),o.closeModal()})},addErrorOnModalField:function(e,t){var n=this.o.prefix,o=n+"msg-error",r=e.parent();e.on("change keyup",function(){r.removeClass(n+"input-error"),setTimeout(function(){r.find("."+o).remove()},150)}),r.addClass(n+"input-error").find("input+span").append(a("<span/>",{class:o,text:t}))},getDefaultImgDblClickHandler:function(){var e=this;return function(){var t=a(this),n=t.attr("src");0===n.indexOf("data:image")&&(n="(Base64)");var o={url:{label:"URL",value:n,required:!0},alt:{label:e.lang.description,value:t.attr("alt")}};return e.o.imageWidthModalEdit&&(o.width={value:t.attr("width")?t.attr("width"):""}),e.openModalInsert(e.lang.insertImage,o,function(n){return"(Base64)"!==n.url&&t.attr({src:n.url}),t.attr({alt:n.alt}),e.o.imageWidthModalEdit&&(parseInt(n.width)>0?t.attr({width:n.width}):t.removeAttr("width")),!0}),!1}},saveRange:function(){var e=this,t=e.doc.getSelection();if(e.range=null,t&&t.rangeCount){var n,a=e.range=t.getRangeAt(0),o=e.doc.createRange();o.selectNodeContents(e.$ed[0]),o.setEnd(a.startContainer,a.startOffset),n=(o+"").length,e.metaRange={start:n,end:n+(a+"").length}}},restoreRange:function(){var e,t=this,n=t.metaRange,a=t.range,o=t.doc.getSelection();if(a){if(n&&n.start!==n.end){var r,i=0,s=[t.$ed[0]],l=!1,d=!1;for(e=t.doc.createRange();!d&&(r=s.pop());)if(3===r.nodeType){var c=i+r.length;!l&&n.start>=i&&n.start<=c&&(e.setStart(r,n.start-i),l=!0),l&&n.end>=i&&n.end<=c&&(e.setEnd(r,n.end-i),d=!0),i=c}else for(var u=r.childNodes,g=u.length;g>0;)g-=1,s.push(u[g])}try{o.removeAllRanges()}catch(f){}o.addRange(e||a)}},getRangeText:function(){return this.range+""},clearButtonPaneStatus:function(){var e=this,t=e.o.prefix,n=t+"active-button "+t+"active",o=t+"original-icon";a("."+t+"active-button",e.$btnPane).removeClass(n),a("."+o,e.$btnPane).each(function(){a(this).find("svg use").attr("xlink:href",a(this).data(o))})},updateButtonPaneStatus:function(){var e=this,t=e.o.prefix,n=t+"active-button "+t+"active",o=t+"original-icon",r=e.getTagsRecursive(e.doc.getSelection().focusNode);e.clearButtonPaneStatus(),a.each(r,function(r,i){var s=e.tagToButton[i.toLowerCase()],l=a("."+t+s+"-button",e.$btnPane);if(l.length>0)l.addClass(n);else try{var d=(l=a("."+t+"dropdown ."+t+s+"-dropdown-button",e.$box)).find("svg use"),c=l.parent().data(t+"dropdown"),u=a("."+t+c+"-button",e.$box),g=u.find("svg use");u.addClass(n),e.o.changeActiveDropdownIcon&&d.length>0&&(u.addClass(o).data(o,g.attr("xlink:href")),g.attr("xlink:href",d.attr("xlink:href")))}catch(f){}})},getTagsRecursive:function(e,t){var n=this;if(t=t||(e&&e.tagName?[e.tagName]:[]),!e||!e.parentNode)return t;var o=(e=e.parentNode).tagName;return"DIV"===o?t:("P"===o&&""!==e.style.textAlign&&t.push(e.style.textAlign),a.each(n.tagHandlers,function(a,o){t=t.concat(o(e,n))}),t.push(o),n.getTagsRecursive(e,t).filter(function(e){return null!=e}))},initPlugins:function(){var e=this;e.loadedPlugins=[],a.each(a.trumbowyg.plugins,function(t,n){n.shouldInit&&!n.shouldInit(e)||(n.init(e),n.tagHandler&&e.tagHandlers.push(n.tagHandler),e.loadedPlugins.push(n))})},destroyPlugins:function(){var e=this;a.each(this.loadedPlugins,function(t,n){n.destroy&&n.destroy(e)})}}}(navigator,window,document,jQuery);
},{}],"kEVK":[function(require,module,exports) {
!function(x){"use strict";var F={emojiList:["&#x2049","&#x2122","&#x2139","&#x2194","&#x2195","&#x2196","&#x2197","&#x2198","&#x2199","&#x2328","&#x2600","&#x2601","&#x2602","&#x2603","&#x2604","&#x2611","&#x2614","&#x2615","&#x2618","&#x2620","&#x2622","&#x2623","&#x2626","&#x2638","&#x2639","&#x2640","&#x2642","&#x2648","&#x2649","&#x2650","&#x2651","&#x2652","&#x2653","&#x2660","&#x2663","&#x2665","&#x2666","&#x2668","&#x2692","&#x2693","&#x2694","&#x2695","&#x2696","&#x2697","&#x2699","&#x2702","&#x2705","&#x2708","&#x2709","&#x2712","&#x2714","&#x2716","&#x2721","&#x2728","&#x2733","&#x2734","&#x2744","&#x2747","&#x2753","&#x2754","&#x2755","&#x2757","&#x2763","&#x2764","&#x2795","&#x2796","&#x2797","&#x2934","&#x2935","&#x3030","&#x3297","&#x3299","&#x1F9E1","&#x1F49B","&#x1F49A","&#x1F499","&#x1F49C","&#x1F5A4","&#x1F494","&#x1F495","&#x1F49E","&#x1F493","&#x1F497","&#x1F496","&#x1F498","&#x1F49D","&#x1F49F","&#x262E","&#x271D","&#x262A","&#x1F549","&#x1F52F","&#x1F54E","&#x262F","&#x1F6D0","&#x26CE","&#x264A","&#x264B","&#x264C","&#x264D","&#x264E","&#x264F","&#x1F194","&#x269B","&#x267E","&#x1F251","&#x1F4F4","&#x1F4F3","&#x1F236","&#x1F21A","&#x1F238","&#x1F23A","&#x1F237","&#x1F19A","&#x1F4AE","&#x1F250","&#x1F234","&#x1F235","&#x1F239","&#x1F232","&#x1F170","&#x1F171","&#x1F18E","&#x1F191","&#x1F17E","&#x1F198","&#x274C","&#x2B55","&#x1F6D1","&#x26D4","&#x1F4DB","&#x1F6AB","&#x1F4AF","&#x1F4A2","&#x1F6B7","&#x1F6AF","&#x1F6B3","&#x1F6B1","&#x1F51E","&#x1F4F5","&#x1F6AD","&#x203C","&#x1F505","&#x1F506","&#x303D","&#x26A0","&#x1F6B8","&#x1F531","&#x269C","&#x1F530","&#x267B","&#x1F22F","&#x1F4B9","&#x274E","&#x1F310","&#x1F4A0","&#x24C2","&#x1F300","&#x1F4A4","&#x1F3E7","&#x1F6BE","&#x267F","&#x1F17F","&#x1F233","&#x1F202","&#x1F6C2","&#x1F6C3","&#x1F6C4","&#x1F6C5","&#x1F6B9","&#x1F6BA","&#x1F6BC","&#x1F6BB","&#x1F6AE","&#x1F3A6","&#x1F4F6","&#x1F201","&#x1F523","&#x1F524","&#x1F521","&#x1F520","&#x1F196","&#x1F197","&#x1F199","&#x1F192","&#x1F195","&#x1F193","&#x0030","&#x0031","&#x0032","&#x0033","&#x0034","&#x0035","&#x0036","&#x0037","&#x0038","&#x0039","&#x1F51F","&#x1F522","&#x0023","&#x002A","&#x23CF","&#x25B6","&#x23F8","&#x23EF","&#x23F9","&#x23FA","&#x23ED","&#x23EE","&#x23E9","&#x23EA","&#x23EB","&#x23EC","&#x25C0","&#x1F53C","&#x1F53D","&#x27A1","&#x2B05","&#x2B06","&#x2B07","&#x21AA","&#x21A9","&#x1F500","&#x1F501","&#x1F502","&#x1F504","&#x1F503","&#x1F3B5","&#x1F3B6","&#x1F4B2","&#x1F4B1","&#x00A9","&#x00AE","&#x27B0","&#x27BF","&#x1F51A","&#x1F519","&#x1F51B","&#x1F51D","&#x1F51C","&#x1F518","&#x26AA","&#x26AB","&#x1F534","&#x1F535","&#x1F53A","&#x1F53B","&#x1F538","&#x1F539","&#x1F536","&#x1F537","&#x1F533","&#x1F532","&#x25AA","&#x25AB","&#x25FE","&#x25FD","&#x25FC","&#x25FB","&#x2B1B","&#x2B1C","&#x1F508","&#x1F507","&#x1F509","&#x1F50A","&#x1F514","&#x1F515","&#x1F4E3","&#x1F4E2","&#x1F5E8","&#x1F441","&#x1F4AC","&#x1F4AD","&#x1F5EF","&#x1F0CF","&#x1F3B4","&#x1F004","&#x1F550","&#x1F551","&#x1F552","&#x1F553","&#x1F554","&#x1F555","&#x1F556","&#x1F557","&#x1F558","&#x1F559","&#x1F55A","&#x1F55B","&#x1F55C","&#x1F55D","&#x1F55E","&#x1F55F","&#x1F560","&#x1F561","&#x1F562","&#x1F563","&#x1F564","&#x1F565","&#x1F566","&#x1F567","&#x26BD","&#x1F3C0","&#x1F3C8","&#x26BE","&#x1F94E","&#x1F3BE","&#x1F3D0","&#x1F3C9","&#x1F3B1","&#x1F3D3","&#x1F3F8","&#x1F945","&#x1F3D2","&#x1F3D1","&#x1F3CF","&#x1F94D","&#x26F3","&#x1F94F","&#x1F3F9","&#x1F3A3","&#x1F94A","&#x1F94B","&#x1F3BD","&#x1F6F9","&#x26F8","&#x1F94C","&#x1F6F7","&#x1F3BF","&#x26F7","&#x1F3C2","&#x1F3CB","&#x1F93C","&#x1F938","&#x26F9","&#x1F93A","&#x1F93E","&#x1F3CC","&#x1F3C7","&#x1F9D8","&#x1F3C4","&#x1F3CA","&#x1F93D","&#x1F6A3","&#x1F9D7","&#x1F6B5","&#x1F6B4","&#x1F3C6","&#x1F947","&#x1F948","&#x1F949","&#x1F3C5","&#x1F396","&#x1F3F5","&#x1F397","&#x1F3AB","&#x1F39F","&#x1F3AA","&#x1F939","&#x1F3AD","&#x1F3A8","&#x1F3AC","&#x1F3A4","&#x1F3A7","&#x1F3BC","&#x1F3B9","&#x1F941","&#x1F3B7","&#x1F3BA","&#x1F3B8","&#x1F3BB","&#x1F3B2","&#x1F3AF","&#x1F3B3","&#x1F3AE","&#x1F3B0","&#x231A","&#x1F4F1","&#x1F4F2","&#x1F4BB","&#x1F5A5","&#x1F5A8","&#x1F5B1","&#x1F5B2","&#x1F579","&#x265F","&#x1F9E9","&#x1F5DC","&#x1F4BD","&#x1F4BE","&#x1F4BF","&#x1F4C0","&#x1F4FC","&#x1F4F7","&#x1F4F8","&#x1F4F9","&#x1F3A5","&#x1F4FD","&#x1F39E","&#x1F4DE","&#x260E","&#x1F4DF","&#x1F4E0","&#x1F4FA","&#x1F4FB","&#x1F399","&#x1F39A","&#x1F39B","&#x23F1","&#x23F2","&#x23F0","&#x1F570","&#x231B","&#x23F3","&#x1F4E1","&#x1F9ED","&#x1F50B","&#x1F50C","&#x1F9F2","&#x1F4A1","&#x1F526","&#x1F56F","&#x1F9EF","&#x1F5D1","&#x1F6E2","&#x1F4B8","&#x1F4B5","&#x1F4B4","&#x1F4B6","&#x1F4B7","&#x1F4B0","&#x1F4B3","&#x1F48E","&#x1F9FF","&#x1F9F1","&#x1F9F0","&#x1F527","&#x1F528","&#x1F6E0","&#x26CF","&#x1F529","&#x26D3","&#x1F52B","&#x1F4A3","&#x1F52A","&#x1F5E1","&#x1F6E1","&#x1F6AC","&#x26B0","&#x26B1","&#x1F3FA","&#x1F52E","&#x1F4FF","&#x1F488","&#x1F9EA","&#x1F9EB","&#x1F9EC","&#x1F9EE","&#x1F52D","&#x1F52C","&#x1F573","&#x1F48A","&#x1F489","&#x1F321","&#x1F6BD","&#x1F6B0","&#x1F6BF","&#x1F6C1","&#x1F6C0","&#x1F9F9","&#x1F9FA","&#x1F9FB","&#x1F9FC","&#x1F9FD","&#x1F9F4","&#x1F9F5","&#x1F9F6","&#x1F6CE","&#x1F511","&#x1F5DD","&#x1F6AA","&#x1F6CB","&#x1F6CF","&#x1F6CC","&#x1F9F8","&#x1F5BC","&#x1F6CD","&#x1F6D2","&#x1F381","&#x1F388","&#x1F38F","&#x1F380","&#x1F38A","&#x1F389","&#x1F38E","&#x1F3EE","&#x1F390","&#x1F9E7","&#x1F4E9","&#x1F4E8","&#x1F4E7","&#x1F48C","&#x1F4E5","&#x1F4E4","&#x1F4E6","&#x1F3F7","&#x1F4EA","&#x1F4EB","&#x1F4EC","&#x1F4ED","&#x1F4EE","&#x1F4EF","&#x1F4DC","&#x1F4C3","&#x1F4C4","&#x1F9FE","&#x1F4D1","&#x1F4CA","&#x1F4C8","&#x1F4C9","&#x1F5D2","&#x1F5D3","&#x1F4C6","&#x1F4C5","&#x1F4C7","&#x1F5C3","&#x1F5F3","&#x1F5C4","&#x1F4CB","&#x1F4C1","&#x1F4C2","&#x1F5C2","&#x1F5DE","&#x1F4F0","&#x1F4D3","&#x1F4D4","&#x1F4D2","&#x1F4D5","&#x1F4D7","&#x1F4D8","&#x1F4D9","&#x1F4DA","&#x1F4D6","&#x1F516","&#x1F517","&#x1F4CE","&#x1F587","&#x1F4D0","&#x1F4CF","&#x1F9F7","&#x1F4CC","&#x1F4CD","&#x1F58A","&#x1F58B","&#x1F58C","&#x1F58D","&#x1F4DD","&#x270F","&#x1F50D","&#x1F50E","&#x1F50F","&#x1F510","&#x1F436","&#x1F431","&#x1F42D","&#x1F439","&#x1F430","&#x1F98A","&#x1F99D","&#x1F43B","&#x1F43C","&#x1F998","&#x1F9A1","&#x1F428","&#x1F42F","&#x1F981","&#x1F42E","&#x1F437","&#x1F43D","&#x1F438","&#x1F435","&#x1F648","&#x1F649","&#x1F64A","&#x1F412","&#x1F414","&#x1F427","&#x1F426","&#x1F424","&#x1F423","&#x1F425","&#x1F986","&#x1F9A2","&#x1F985","&#x1F989","&#x1F99C","&#x1F99A","&#x1F987","&#x1F43A","&#x1F417","&#x1F434","&#x1F984","&#x1F41D","&#x1F41B","&#x1F98B","&#x1F40C","&#x1F41A","&#x1F41E","&#x1F41C","&#x1F997","&#x1F577","&#x1F578","&#x1F982","&#x1F99F","&#x1F9A0","&#x1F422","&#x1F40D","&#x1F98E","&#x1F996","&#x1F995","&#x1F419","&#x1F991","&#x1F990","&#x1F980","&#x1F99E","&#x1F421","&#x1F420","&#x1F41F","&#x1F42C","&#x1F433","&#x1F40B","&#x1F988","&#x1F40A","&#x1F405","&#x1F406","&#x1F993","&#x1F98D","&#x1F418","&#x1F98F","&#x1F99B","&#x1F42A","&#x1F42B","&#x1F992","&#x1F999","&#x1F403","&#x1F402","&#x1F404","&#x1F40E","&#x1F416","&#x1F40F","&#x1F411","&#x1F410","&#x1F98C","&#x1F415","&#x1F429","&#x1F408","&#x1F413","&#x1F983","&#x1F54A","&#x1F407","&#x1F401","&#x1F400","&#x1F43F","&#x1F994","&#x1F43E","&#x1F409","&#x1F432","&#x1F335","&#x1F384","&#x1F332","&#x1F333","&#x1F334","&#x1F331","&#x1F33F","&#x1F340","&#x1F38D","&#x1F38B","&#x1F343","&#x1F342","&#x1F341","&#x1F344","&#x1F33E","&#x1F490","&#x1F337","&#x1F339","&#x1F940","&#x1F33A","&#x1F338","&#x1F33C","&#x1F33B","&#x1F31E","&#x1F31D","&#x1F31B","&#x1F31C","&#x1F31A","&#x1F315","&#x1F316","&#x1F317","&#x1F318","&#x1F311","&#x1F312","&#x1F313","&#x1F314","&#x1F319","&#x1F30E","&#x1F30D","&#x1F30F","&#x1F4AB","&#x2B50","&#x1F31F","&#x26A1","&#x1F4A5","&#x1F525","&#x1F32A","&#x1F308","&#x1F324","&#x26C5","&#x1F325","&#x1F326","&#x1F327","&#x26C8","&#x1F329","&#x1F328","&#x26C4","&#x1F32C","&#x1F4A8","&#x1F4A7","&#x1F4A6","&#x1F30A","&#x1F32B","&#x1F34F","&#x1F34E","&#x1F350","&#x1F34A","&#x1F34B","&#x1F34C","&#x1F349","&#x1F347","&#x1F353","&#x1F348","&#x1F352","&#x1F351","&#x1F96D","&#x1F34D","&#x1F965","&#x1F95D","&#x1F345","&#x1F346","&#x1F951","&#x1F966","&#x1F96C","&#x1F952","&#x1F336","&#x1F33D","&#x1F955","&#x1F954","&#x1F360","&#x1F950","&#x1F35E","&#x1F956","&#x1F968","&#x1F96F","&#x1F9C0","&#x1F95A","&#x1F373","&#x1F95E","&#x1F953","&#x1F969","&#x1F357","&#x1F356","&#x1F32D","&#x1F354","&#x1F35F","&#x1F355","&#x1F96A","&#x1F959","&#x1F32E","&#x1F32F","&#x1F957","&#x1F958","&#x1F96B","&#x1F35D","&#x1F35C","&#x1F372","&#x1F35B","&#x1F363","&#x1F371","&#x1F364","&#x1F359","&#x1F35A","&#x1F358","&#x1F365","&#x1F960","&#x1F362","&#x1F361","&#x1F367","&#x1F368","&#x1F366","&#x1F967","&#x1F370","&#x1F382","&#x1F96E","&#x1F9C1","&#x1F36E","&#x1F36D","&#x1F36C","&#x1F36B","&#x1F37F","&#x1F9C2","&#x1F369","&#x1F95F","&#x1F36A","&#x1F330","&#x1F95C","&#x1F36F","&#x1F95B","&#x1F37C","&#x1F375","&#x1F964","&#x1F376","&#x1F37A","&#x1F37B","&#x1F942","&#x1F377","&#x1F943","&#x1F378","&#x1F379","&#x1F37E","&#x1F944","&#x1F374","&#x1F37D","&#x1F963","&#x1F961","&#x1F962","&#x1F600","&#x1F603","&#x1F604","&#x1F601","&#x1F606","&#x1F605","&#x1F602","&#x1F923","&#x263A","&#x1F60A","&#x1F607","&#x1F642","&#x1F643","&#x1F609","&#x1F60C","&#x1F60D","&#x1F618","&#x1F970","&#x1F617","&#x1F619","&#x1F61A","&#x1F60B","&#x1F61B","&#x1F61D","&#x1F61C","&#x1F92A","&#x1F928","&#x1F9D0","&#x1F913","&#x1F60E","&#x1F929","&#x1F973","&#x1F60F","&#x1F612","&#x1F61E","&#x1F614","&#x1F61F","&#x1F615","&#x1F641","&#x1F623","&#x1F616","&#x1F62B","&#x1F629","&#x1F622","&#x1F62D","&#x1F624","&#x1F620","&#x1F621","&#x1F92C","&#x1F92F","&#x1F633","&#x1F631","&#x1F628","&#x1F630","&#x1F975","&#x1F976","&#x1F97A","&#x1F625","&#x1F613","&#x1F917","&#x1F914","&#x1F92D","&#x1F92B","&#x1F925","&#x1F636","&#x1F610","&#x1F611","&#x1F62C","&#x1F644","&#x1F62F","&#x1F626","&#x1F627","&#x1F62E","&#x1F632","&#x1F634","&#x1F924","&#x1F62A","&#x1F635","&#x1F910","&#x1F974","&#x1F922","&#x1F92E","&#x1F927","&#x1F637","&#x1F912","&#x1F915","&#x1F911","&#x1F920","&#x1F608","&#x1F47F","&#x1F479","&#x1F47A","&#x1F921","&#x1F4A9","&#x1F47B","&#x1F480","&#x1F47D","&#x1F47E","&#x1F916","&#x1F383","&#x1F63A","&#x1F638","&#x1F639","&#x1F63B","&#x1F63C","&#x1F63D","&#x1F640","&#x1F63F","&#x1F63E","&#x1F932","&#x1F450","&#x1F64C","&#x1F44F","&#x1F91D","&#x1F44D","&#x1F44E","&#x1F44A","&#x270A","&#x1F91B","&#x1F91C","&#x1F91E","&#x270C","&#x1F91F","&#x1F918","&#x1F44C","&#x1F448","&#x1F449","&#x1F446","&#x1F447","&#x261D","&#x270B","&#x1F91A","&#x1F590","&#x1F596","&#x1F44B","&#x1F919","&#x1F4AA","&#x1F9B5","&#x1F9B6","&#x1F595","&#x270D","&#x1F64F","&#x1F48D","&#x1F484","&#x1F48B","&#x1F444","&#x1F445","&#x1F442","&#x1F443","&#x1F463","&#x1F440","&#x1F9E0","&#x1F9B4","&#x1F9B7","&#x1F5E3","&#x1F464","&#x1F465","&#x1F476","&#x1F467","&#x1F9D2","&#x1F466","&#x1F469","&#x1F9D1","&#x1F468","&#x1F471","&#x1F9D4","&#x1F475","&#x1F9D3","&#x1F474","&#x1F472","&#x1F473","&#x1F9D5","&#x1F46E","&#x1F477","&#x1F482","&#x1F575","&#x1F470","&#x1F935","&#x1F478","&#x1F934","&#x1F936","&#x1F385","&#x1F9B8","&#x1F9B9","&#x1F9D9","&#x1F9DD","&#x1F9DB","&#x1F9DF","&#x1F9DE","&#x1F9DC","&#x1F9DA","&#x1F47C","&#x1F930","&#x1F931","&#x1F647","&#x1F481","&#x1F645","&#x1F646","&#x1F64B","&#x1F926","&#x1F937","&#x1F64E","&#x1F64D","&#x1F487","&#x1F486","&#x1F9D6","&#x1F485","&#x1F933","&#x1F483","&#x1F57A","&#x1F46F","&#x1F574","&#x1F6B6","&#x1F3C3","&#x1F46B","&#x1F46D","&#x1F46C","&#x1F491","&#x1F48F","&#x1F46A","&#x1F9E5","&#x1F45A","&#x1F455","&#x1F456","&#x1F454","&#x1F457","&#x1F459","&#x1F458","&#x1F97C","&#x1F460","&#x1F461","&#x1F462","&#x1F45E","&#x1F45F","&#x1F97E","&#x1F97F","&#x1F9E6","&#x1F9E4","&#x1F9E3","&#x1F3A9","&#x1F9E2","&#x1F452","&#x1F393","&#x26D1","&#x1F451","&#x1F45D","&#x1F45B","&#x1F45C","&#x1F4BC","&#x1F392","&#x1F453","&#x1F576","&#x1F97D","&#x1F302","&#x1F9B0","&#x1F9B1","&#x1F9B3","&#x1F9B2","&#x1F1FF","&#x1F1FE","&#x1F1FD","&#x1F1FC","&#x1F1FB","&#x1F1FA","&#x1F1F9","&#x1F1F8","&#x1F1F7","&#x1F1F6","&#x1F1F5","&#x1F1F4","&#x1F1F3","&#x1F1F2","&#x1F1F1","&#x1F1F0","&#x1F1EF","&#x1F1EE","&#x1F1ED","&#x1F1EC","&#x1F1EB","&#x1F1EA","&#x1F1E9","&#x1F1E8","&#x1F1E7","&#x1F1E6","&#x1F697","&#x1F695","&#x1F699","&#x1F68C","&#x1F68E","&#x1F3CE","&#x1F693","&#x1F691","&#x1F692","&#x1F690","&#x1F69A","&#x1F69B","&#x1F69C","&#x1F6F4","&#x1F6B2","&#x1F6F5","&#x1F3CD","&#x1F6A8","&#x1F694","&#x1F68D","&#x1F698","&#x1F696","&#x1F6A1","&#x1F6A0","&#x1F69F","&#x1F683","&#x1F68B","&#x1F69E","&#x1F69D","&#x1F684","&#x1F685","&#x1F688","&#x1F682","&#x1F686","&#x1F687","&#x1F68A","&#x1F689","&#x1F6EB","&#x1F6EC","&#x1F6E9","&#x1F4BA","&#x1F9F3","&#x1F6F0","&#x1F680","&#x1F6F8","&#x1F681","&#x1F6F6","&#x26F5","&#x1F6A4","&#x1F6E5","&#x1F6F3","&#x26F4","&#x1F6A2","&#x26FD","&#x1F6A7","&#x1F6A6","&#x1F6A5","&#x1F68F","&#x1F5FA","&#x1F5FF","&#x1F5FD","&#x1F5FC","&#x1F3F0","&#x1F3EF","&#x1F3DF","&#x1F3A1","&#x1F3A2","&#x1F3A0","&#x26F2","&#x26F1","&#x1F3D6","&#x1F3DD","&#x1F3DC","&#x1F30B","&#x26F0","&#x1F3D4","&#x1F5FB","&#x1F3D5","&#x26FA","&#x1F3E0","&#x1F3E1","&#x1F3D8","&#x1F3DA","&#x1F3D7","&#x1F3ED","&#x1F3E2","&#x1F3EC","&#x1F3E3","&#x1F3E4","&#x1F3E5","&#x1F3E6","&#x1F3E8","&#x1F3EA","&#x1F3EB","&#x1F3E9","&#x1F492","&#x1F3DB","&#x26EA","&#x1F54C","&#x1F54D","&#x1F54B","&#x26E9","&#x1F6E4","&#x1F6E3","&#x1F5FE","&#x1F391","&#x1F3DE","&#x1F305","&#x1F304","&#x1F320","&#x1F387","&#x1F386","&#x1F9E8","&#x1F307","&#x1F306","&#x1F3D9","&#x1F303","&#x1F30C","&#x1F309","&#x1F512","&#x1F513","&#x1F301","&#x1F3F3","&#x1F3F4","&#x1F3C1","&#x1F6A9","&#x1F38C","&#x1F3FB","&#x1F3FC","&#x1F3FD","&#x1F3FE","&#x1F3FF"]};function E(F){var E=[];return x.each(F.o.plugins.emoji.emojiList,function(B,A){if(x.isArray(A)){var D=A[0],C=A[1],e='<img src="'+C+'" alt="'+D+'">',i="emoji-"+D.replace(/:/g,""),o={hasIcon:!1,text:e,fn:function(){return F.execCmd("insertImage",C,!1,!0),!0}};F.addBtnDef(i,o),E.push(i)}else{var n="emoji-"+A.replace(/:/g,""),t={text:A,fn:function(){var x=String.fromCodePoint(A.replace("&#","0"));return F.execCmd("insertText",x),!0}};F.addBtnDef(n,t),E.push(n)}}),E}x.extend(!0,x.trumbowyg,{langs:{en:{emoji:"Add an emoji"},da:{emoji:"Tilføj et humørikon"},de:{emoji:"Emoticon einfügen"},fr:{emoji:"Ajouter un emoji"},zh_cn:{emoji:"添加表情"},ru:{emoji:"Вставить emoji"},ja:{emoji:"絵文字の挿入"},tr:{emoji:"Emoji ekle"},ko:{emoji:"이모지 넣기"}},plugins:{emoji:{init:function(x){x.o.plugins.emoji=x.o.plugins.emoji||F;var B={dropdown:E(x)};x.addBtnDef("emoji",B)}}}})}(jQuery);
},{}],"X01B":[function(require,module,exports) {
!function(o){"use strict";o.extend(!0,o.trumbowyg,{langs:{de:{history:{redo:"Wiederholen",undo:"Rückgängig"}},en:{history:{redo:"Redo",undo:"Undo"}},da:{history:{redo:"Annuller fortryd",undo:"Fortryd"}},fr:{history:{redo:"Annuler",undo:"Rétablir"}},zh_tw:{history:{redo:"重做",undo:"復原"}},pt_br:{history:{redo:"Refazer",undo:"Desfazer"}},ko:{history:{redo:"다시 실행",undo:"되돌리기"}}},plugins:{history:{init:function(i){i.o.plugins.history=o.extend(!0,{_stack:[],_index:-1,_focusEl:void 0},i.o.plugins.history||{});var t={title:i.lang.history.redo,ico:"redo",key:"Y",fn:function(){if(i.o.plugins.history._index<i.o.plugins.history._stack.length-1){i.o.plugins.history._index+=1;var o=i.o.plugins.history._index,t=i.o.plugins.history._stack[o];i.execCmd("html",t),i.o.plugins.history._stack[o]=i.$ed.html(),d(),e()}}},n={title:i.lang.history.undo,ico:"undo",key:"Z",fn:function(){if(i.o.plugins.history._index>0){i.o.plugins.history._index-=1;var o=i.o.plugins.history._index,t=i.o.plugins.history._stack[o];i.execCmd("html",t),i.o.plugins.history._stack[o]=i.$ed.html(),d(),e()}}},e=function(){var o=i.o.plugins.history._index,t=i.o.plugins.history._stack.length,n=0!==t&&o!==t-1;s("historyUndo",o>0),s("historyRedo",n)},s=function(o,t){var n=i.$box.find(".trumbowyg-"+o+"-button");t?n.removeClass("trumbowyg-disable"):n.hasClass("trumbowyg-disable")||n.addClass("trumbowyg-disable")},r=function(o,i){if(o===i)return!0;if(null==o||null==i)return!1;if(o.length!==i.length)return!1;for(var t=0;t<o.length;t+=1)if(o[t]!==i[t])return!1;return!0},d=function(){var o=i.doc.getSelection().focusNode,t=i.doc.createRange();o.childNodes.length>0&&(t.setStartAfter(o.childNodes[o.childNodes.length-1]),t.setEndAfter(o.childNodes[o.childNodes.length-1]),i.doc.getSelection().removeAllRanges(),i.doc.getSelection().addRange(t))};i.$c.on("tbwinit tbwchange",function(){var t,n,s=i.o.plugins.history._index,d=i.o.plugins.history._stack,l=d.slice(-1)[0]||"<p></p>",u=d[s],h=i.$ed.html(),c=i.doc.getSelection().focusNode,g="",a=i.o.plugins.history._focusEl;t=o("<div>"+l+"</div>").find("*").map(function(){return this.localName}),n=o("<div>"+h+"</div>").find("*").map(function(){return this.localName}),c&&(i.o.plugins.history._focusEl=c,g=c.outerHTML||c.textContent),h!==u&&(g.slice(-1).match(/\s/)||!r(t,n)||i.o.plugins.history._index<=0||c!==a?(i.o.plugins.history._index+=1,i.o.plugins.history._stack=d.slice(0,i.o.plugins.history._index),i.o.plugins.history._stack.push(h)):i.o.plugins.history._stack[s]=h,e())}),i.addBtnDef("historyRedo",t),i.addBtnDef("historyUndo",n)}}}})}(jQuery);
},{}],"HpYO":[function(require,module,exports) {
!function(e){"use strict";e.extend(!0,e.trumbowyg,{plugins:{cleanPaste:{init:function(e){e.pasteHandlers.push(function(){setTimeout(function(){try{e.$ed.html(((r=(r=(r=(r=(r=(r=(r=(r=(r=e.$ed.html()).replace(/<[^> ]*/g,function(e){return e.toLowerCase()}).replace(/<[^>]*>/g,function(e){return e=e.replace(/ [^=]+=/g,function(e){return e.toLowerCase()})}).replace(/<[^>]*>/g,function(e){return e=e.replace(/( [^=]+=)([^"][^ >]*)/g,'$1"$2"')})).replace(/<b(\s+|>)/g,"<strong$1")).replace(/<\/b(\s+|>)/g,"</strong$1")).replace(/<i(\s+|>)/g,"<em$1")).replace(/<\/i(\s+|>)/g,"</em$1")).replace(/<!(?:--[\s\S]*?--\s*)?>\s*/g,"")).replace(/&nbsp;/gi," ")).replace(/ <\//gi,"</")).replace(/\s+/g," "),r=(r=(r=(r=(r=(r=r.replace(/^\s*|\s*$/g,"")).replace(/<[^>]*>/g,function(e){return e=e.replace(/ ([^=]+)="[^"]*"/g,function(e,r){return-1!==["alt","href","src","title"].indexOf(r)?e:""})})).replace(/<\?xml[^>]*>/g,"")).replace(/<[^ >]+:[^>]*>/g,"")).replace(/<\/[^ >]+:[^>]*>/g,"")).replace(/<(div|span|style|meta|link).*?>/gi,"")))}catch(t){}var r},0)})}}}})}(jQuery);
},{}],"KmyU":[function(require,module,exports) {
!function(e){"use strict";var a={allowedTags:[],removableTags:["a","abbr","address","b","bdi","bdo","blockquote","br","cite","code","del","dfn","details","em","h1","h2","h3","h4","h5","h6","hr","i","ins","kbd","mark","meter","pre","progress","q","rp","rt","ruby","s","samp","small","span","strong","sub","summary","sup","time","u","var","wbr","img","map","area","canvas","figcaption","figure","picture","audio","source","track","video","ul","ol","li","dl","dt","dd","table","caption","th","tr","td","thead","tbody","tfoot","col","colgroup","style","div","p","form","input","textarea","button","select","optgroup","option","label","fieldset","legend","datalist","keygen","output","iframe","link","nav","header","hgroup","footer","main","section","article","aside","dialog","script","noscript","embed","object","param"]};e.extend(!0,e.trumbowyg,{plugins:{allowTagsFromPaste:{init:function(t){if(t.o.removeformatPasted=!1,t.o.plugins.allowTagsFromPaste){var o=t.o.plugins.allowTagsFromPaste.allowedTags||a.allowedTags,r=t.o.plugins.allowTagsFromPaste.removableTags||a.removableTags;if(0!==o.length){var s=e(r).not(o).get();t.pasteHandlers.push(function(){setTimeout(function(){var a=t.$ed.html();e.each(s,function(e,t){a=a.replace(new RegExp("<\\/?"+t+"(\\s[^>]*)?>","gi"),"")}),t.$ed.html(a)},0)})}}}}}})}(jQuery);
},{}],"ozvD":[function(require,module,exports) {
!function(o){"use strict";function r(o){return("0"+parseInt(o).toString(16)).slice(-2)}function e(o){return-1===o.search("rgb")?o.replace("#",""):"rgba(0, 0, 0, 0)"===o?"transparent":r((o=o.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/))[1])+r(o[2])+r(o[3])}o.extend(!0,o.trumbowyg,{langs:{cs:{foreColor:"Barva textu",backColor:"Barva pozadí"},en:{foreColor:"Text color",backColor:"Background color",foreColorRemove:"Remove text color",backColorRemove:"Remove background color"},da:{foreColor:"Tekstfarve",backColor:"Baggrundsfarve"},fr:{foreColor:"Couleur du texte",backColor:"Couleur de fond",foreColorRemove:"Supprimer la couleur du texte",backColorRemove:"Supprimer la couleur de fond"},de:{foreColor:"Textfarbe",backColor:"Hintergrundfarbe"},nl:{foreColor:"Tekstkleur",backColor:"Achtergrondkleur"},sk:{foreColor:"Farba textu",backColor:"Farba pozadia"},zh_cn:{foreColor:"文字颜色",backColor:"背景颜色"},zh_tw:{foreColor:"文字顏色",backColor:"背景顏色"},ru:{foreColor:"Цвет текста",backColor:"Цвет выделения текста"},ja:{foreColor:"文字色",backColor:"背景色"},tr:{foreColor:"Yazı rengi",backColor:"Arkaplan rengi"},pt_br:{foreColor:"Cor de fonte",backColor:"Cor de fundo"},ko:{foreColor:"글자색",backColor:"배경색",foreColorRemove:"글자색 지우기",backColorRemove:"배경색 지우기"}}});var l={colorList:["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646","ffff00","f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada","fff2ca","d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5","ffe694","bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","b7dde8","fac08f","f2c314","a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","92cddc","e36c09","c09100","7f7f7f","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","31859b","974806","7f6000"],foreColorList:null,backColorList:null,allowCustomForeColor:!0,allowCustomBackColor:!0,displayAsList:!1};function a(r,e){var l=[],a=e.o.plugins.colors,c=a[r+"List"]||a.colorList;o.each(c,function(o,c){var f=r+c,t={fn:r,forceCss:!0,hasIcon:!1,text:e.lang["#"+c]||"#"+c,param:"#"+c,style:"background-color: #"+c+";"};a.displayAsList&&"foreColor"===r&&(t.style="color: #"+c+" !important;"),e.addBtnDef(f,t),l.push(f)});var f=r+"Remove",t={fn:"removeFormat",hasIcon:!1,param:r,style:"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2NkQAAfEJMRmwBYhoGBYQtMBYoAADziAp0jtJTgAAAAAElFTkSuQmCC);"};if(a.displayAsList&&(t.style=""),e.addBtnDef(f,t),l.push(f),a["allowCustom"+r.charAt(0).toUpperCase()+r.substr(1)]){var d=r+"Free",n={fn:function(){e.openModalInsert(e.lang[r],{color:{label:r,forceCss:!0,type:"color",value:"#FFFFFF"}},function(o){return e.execCmd(r,o.color),!0})},hasIcon:!1,text:"#",style:"text-indent: 0; line-height: 20px; padding: 0 5px;"};e.addBtnDef(d,n),l.push(d)}return l}o.extend(!0,o.trumbowyg,{plugins:{color:{init:function(o){o.o.plugins.colors=o.o.plugins.colors||l;var r=o.o.plugins.colors.displayAsList?o.o.prefix+"dropdown--color-list":"",e={dropdown:a("foreColor",o),dropdownClass:r},c={dropdown:a("backColor",o),dropdownClass:r};o.addBtnDef("foreColor",e),o.addBtnDef("backColor",c)},tagHandler:function(o,r){var l,a=[];if(!o.style)return a;if(""!==o.style.backgroundColor){var c=e(o.style.backgroundColor);r.o.plugins.colors.colorList.indexOf(c)>=0?a.push("backColor"+c):a.push("backColorFree")}return""!==o.style.color?l=e(o.style.color):o.hasAttribute("color")&&(l=e(o.getAttribute("color"))),l&&(r.o.plugins.colors.colorList.indexOf(l)>=0?a.push("foreColor"+l):a.push("foreColorFree")),a}}}})}(jQuery);
},{}],"vO1B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.svgMove=exports.svgDown=exports.svgUp=void 0;var s='<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"\n                                 role="img" aria-hidden="true" focusable="false">\n                                <polygon points="9,4.5 3.3,10.1 4.8,11.5 9,7.3 13.2,11.5 14.7,10.1 "></polygon>\n                            </svg>';exports.svgUp=s;var e='<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"\n                                 role="img" aria-hidden="true" focusable="false">\n                                <polygon points="9,13.5 14.7,7.9 13.2,6.5 9,10.7 4.8,6.5 3.3,7.9 "></polygon>\n                            </svg>';exports.svgDown=e;var o='<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" role="img"\n                             aria-hidden="true" focusable="false"><path\n                                    d="M13,8c0.6,0,1-0.4,1-1s-0.4-1-1-1s-1,0.4-1,1S12.4,8,13,8z M5,6C4.4,6,4,6.4,4,7s0.4,1,1,1s1-0.4,1-1S5.6,6,5,6z M5,10 c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S5.6,10,5,10z M13,10c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S13.6,10,13,10z M9,6 C8.4,6,8,6.4,8,7s0.4,1,1,1s1-0.4,1-1S9.6,6,9,6z M9,10c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S9.6,10,9,10z"></path></svg>';exports.svgMove=o;
},{}],"TDLY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContentType=void 0;var e=require("./icons");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}var o=function(){function n(){t(this,n),this.$editor=$("<div></div>").addClass("particle-content-type live-news-editor__item"),this.$preview=$("<div></div>").addClass("particle-content-type--preview")}return i(n,[{key:"editor$",value:function(){return this.$editor.empty()?(this.$toolbar=$('\n                <div class="live-news-editor__toolbar">\n                    <div class="live-news-editor__mover">\n                        <button class="live-news-editor__up">\n\n                            '.concat(e.svgUp,'\n                        </button>\n                        <span class="live-news-editor__handle">\n                            ').concat(e.svgMove,'\n                        </span>\n                        <button class="live-news-editor__down">\n                            ').concat(e.svgDown,"\n                        </button>\n                    </div>\n\n                </div>")),this.$editor.append(this.$toolbar),this.$editor):this.$editor}},{key:"preview$",value:function(){return $("<p/>").text(this.getValue())}},{key:"setValue",value:function(e){}},{key:"getValue",value:function(){}},{key:"setDisabled",value:function(e){}}]),n}();exports.ContentType=o,o.prototype.slug="";
},{"./icons":"vO1B"}],"7Wnb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContentType_HTML=void 0,require("trumbowyg"),require("trumbowyg/plugins/emoji/trumbowyg.emoji"),require("trumbowyg/plugins/history/trumbowyg.history"),require("trumbowyg/plugins/cleanpaste/trumbowyg.cleanpaste"),require("trumbowyg/plugins/allowtagsfrompaste/trumbowyg.allowtagsfrompaste"),require("trumbowyg/plugins/colors/trumbowyg.colors");var t=require("./content-type");function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}function i(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?u(t):r}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(e){function o(t){var e;return r(this,o),(e=i(this,a(o).call(this,t)))._tmp_val="",e}return s(o,t.ContentType),n(o,[{key:"editor$",value:function(){return this.$editor.empty()?(this.$textarea=$("<textarea/>").addClass("live-news-input__textarea"),this.$editor.append(this.$textarea),this.$textarea.trumbowyg(LiveNews.contentTypes.html),this._tmp_val&&this.setValue(this._tmp_val),this.$editor):this.$editor}},{key:"preview$",value:function(){return $("<div></div>").html(this.getValue())}},{key:"getValue",value:function(){return this.$textarea?this.$textarea.trumbowyg("html"):this._tmp_val}},{key:"setValue",value:function(t){this.$textarea?this.$textarea.trumbowyg("html",t):this._tmp_val=t}},{key:"setDisabled",value:function(t){t?this.$textarea.trumbowyg("disable"):this.$textarea.trumbowyg("enable")}}]),o}();exports.ContentType_HTML=p,p.prototype.slug="html";
},{"trumbowyg":"lA+o","trumbowyg/plugins/emoji/trumbowyg.emoji":"kEVK","trumbowyg/plugins/history/trumbowyg.history":"X01B","trumbowyg/plugins/cleanpaste/trumbowyg.cleanpaste":"HpYO","trumbowyg/plugins/allowtagsfrompaste/trumbowyg.allowtagsfrompaste":"KmyU","trumbowyg/plugins/colors/trumbowyg.colors":"ozvD","./content-type":"TDLY"}],"ovqP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContentType_Title=void 0;var t=require("./content-type");function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function i(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?u(t):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(e){function o(t){var e;return n(this,o),(e=i(this,l(o).call(this,t)))._tmp_val="",e}return c(o,t.ContentType),r(o,[{key:"editor$",value:function(){if(!this.$editor.empty())return this.$editor;var t=this.getValue();return this.$content=$("<input />").addClass("live-news-input__input-text").attr("type","text").attr("placeholder","Titel (optional)").val(t),this.$editor.append(this.$content),this.$editor}},{key:"preview$",value:function(){return $("<h3/>").text(this.getValue())}},{key:"setValue",value:function(t){this.$content?this.$content.val(t):this._tmp_val=t}},{key:"getValue",value:function(){return this.$content?this.$content.val():this._tmp_val}},{key:"setDisabled",value:function(t){t?this.$content.attr("disabled","disabled"):this.$content.removeAttr("disabled")}}]),o}();exports.ContentType_Title=s,s.prototype.slug="title";
},{"./content-type":"TDLY"}],"gziu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContentType_Upload=void 0;var e=require("./content-type");function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function a(e,i){return!i||"object"!==t(i)&&"function"!=typeof i?r(e):i}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(n){function r(e){var t;return i(this,r),(t=a(this,s(r).call(this,e))).val="",t.fetched_id=null,t}return u(r,e.ContentType),o(r,[{key:"editor$",value:function(){var e=this;if(!this.$editor.empty())return this.$editor;var t=$("<lable><strong>Bild (optional)</strong><br></lable>"),i=$("<input />").addClass("live-news-input__input-file").attr("name","file").attr("type","file").attr("placeholder","Bild (optional)").attr("accept","image/x-png,image/gif,image/jpeg").appendTo(t);this.$input=i;var n=$("<form></form>");n.append(t),n.on("submit",function(t){t.preventDefault(),""!==i.val()&&(e.setFetchingImages(!0),LiveNews.api.uploadAttachment(n[0],function(){e.setUploadingImage(!0)}).then(function(t){e.setUploadingImage(!1),e.setValue(t.attachment_id)}))}),i.on("change",function(){return n.submit()}),this.$editor.append(n);var o=$("<div></div>");return this.getEditorImg$().appendTo(o.appendTo(n)),this.$delete=$("<button>Bild entfernen</button>"),this.$delete.on("click",function(t){t.preventDefault(),e.setValue("")}),o.append(this.$delete),this.updateDeleteButton(),this.$editor}},{key:"setFetchingImages",value:function(e){this.setFetchingImage(this.getEditorImg$(),e),this.setFetchingImage(this.getImg$(),e)}},{key:"setFetchingImage",value:function(e,t){e&&(t?e.find(".spinner").addClass("is-active"):e.find(".spinner").removeClass("is-active"))}},{key:"setUploadingImage",value:function(e){this.setDisabled(e)}},{key:"renderImages",value:function(e){this.renderImage(this.$img,e),this.renderImage(this.$editorImg,e)}},{key:"renderImage",value:function(e,i){e&&(null!==i&&t(i)===t({})?i.media_details?(e.show(),e.find("img").attr("src",i.media_details.sizes.medium.source_url)):e.replaceWith("<p>🖼 Image lost!</p>"):e.hide())}},{key:"getEditorImg$",value:function(){return this.$editorImg||(this.$editorImg=$("<div class='particle__content-type--upload'><span class='spinner'></span><img class='particle__img'/></div>")),this.fetchAttachment(),this.$editorImg}},{key:"getImg$",value:function(){return this.$img||(this.$img=$("<div class='particle__content-type--upload'><span class='spinner'></span><img class='particle__img'/></div>")),this.fetchAttachment(),this.$img}},{key:"preview$",value:function(){return this.getImg$()}},{key:"fetchAttachment",value:function(){var e=this;""!==this.val&&!0!==this.isFetching&&this.fetched_id!==this.val&&(this.isFetching=!0,this.setFetchingImages(!0),LiveNews.api.fetchAttachment(this.val).then(function(t){e.isFetching=!1,e.fetched_id=e.val,e.setFetchingImages(!1),e.renderImages(t)}))}},{key:"setValue",value:function(e){this.val=e,this.$input&&this.$input.val(""),""===e&&this.renderImage(this.$editorImg,null),this.updateDeleteButton(),this.fetchAttachment()}},{key:"getValue",value:function(){return this.val}},{key:"updateDeleteButton",value:function(){this.showDeleteImage(""!==this.getValue())}},{key:"showDeleteImage",value:function(e){this.$delete&&(e?this.$delete.show():e||this.$delete.hide())}},{key:"setDisabled",value:function(e){e?this.$input.attr("disabled","disabled"):this.$input.removeAttr("disabled")}}]),r}();exports.ContentType_Upload=c,c.prototype.slug="upload";
},{"./content-type":"TDLY"}],"fqJo":[function(require,module,exports) {
"use strict";var e=require("./lib/api"),t=require("./lib/application"),i=require("./lib/view/content-type--html"),n=require("./lib/view/content-type--title"),o=require("./lib/view/content-type--upload");!function(p){window.LiveNews=p;var r=(0,e.adminApi)(p);window.LiveNews.api=r,window.$=jQuery;var a=(0,t.application)(p,r,jQuery);window.LiveNews.app=a,a.contentTypeProvider.add(n.ContentType_Title.prototype.slug,n.ContentType_Title),a.contentTypeProvider.add(i.ContentType_HTML.prototype.slug,i.ContentType_HTML),a.contentTypeProvider.add(o.ContentType_Upload.prototype.slug,o.ContentType_Upload),a.init()}(LiveNews);
},{"./lib/api":"nMub","./lib/application":"U3L2","./lib/view/content-type--html":"7Wnb","./lib/view/content-type--title":"ovqP","./lib/view/content-type--upload":"gziu"}]},{},["fqJo"], null)